<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
  <link rel="icon" type="image/png" href="../../../img/logo.png">
<title>Sierpinski Gasket 2D/3D</title>
<style>
body{text-align:center;font-family:Arial}
canvas{border:1px solid #999;display:block;margin:10px auto}
select,input,button{font-size:16px;margin:4px}
</style>

<!-- ---------------- 彩色 3D 着色器（修改为支持 MVP 矩阵） ---------------- -->
<script id="vertex-shader" type="x-shader/x-vertex">#version 300 es
in vec3 vPosition;
in vec4 aColor;
out vec4 vColor;
uniform mat4 uMVP;

void main(){
    gl_Position = uMVP * vec4( vPosition, 1.0 );
    vColor = aColor;
}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">#version 300 es
precision mediump float;

in vec4 vColor;
out vec4 fColor;
void main(){
    fColor = vColor;
}
</script>

<!-- ---------------- 原 2D 着色器 ---------------- -->
<script id="vs2d" type="x-shader/x-vertex">#version 300 es
in vec4 vPosition;
void main(){ gl_Position = vPosition; }
</script>
<script id="fs2d" type="x-shader/x-fragment">#version 300 es
precision mediump float;
out vec4 fColor;
void main(){ fColor = vec4(1.0,0.0,0.0,1.0); }
</script>

<script src="common/webgl-utils.js"></script>
<script src="common/initShaders.js"></script>
<script src="common/gl-matrix-min.js"></script>
<script src="js/b.js"></script>
</head>

<body>
<h2>Sierpinski Gasket – <span id="dimText">2D Triangle</span></h2>
<canvas id="gl-canvas" width="600" height="600"></canvas>

<div>
  维度：
  <select id="dimSel" onchange="syncUI()">
    <option value="2">2D Triangle</option>
    <option value="3">3D Tetrahedron</option>
  </select>

  细分层次：
  <input type="range" id="levelSlider" min="0" max="7" value="3"
         oninput="syncUI()">
  <span id="levShow">3</span>
  <div style="text-align: center; margin-top: 20px;">
    <div><a href="index.html" style="color: #4da6ff; text-decoration: none;">回到主页</a></div>
  </div>
</div>
</body>
</html>
